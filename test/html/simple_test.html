<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Weboscket simple test</title>


	<link href="../../node_modules/prismjs/themes/prism.css" rel="stylesheet" />
	<link rel="stylesheet" href="../../node_modules/tether/dist/css/tether.min.css"/>
	
	<link rel="stylesheet" href="../../../bootstrap/dist/css/bootstrap.min.css"/>
	
	<link rel="stylesheet" href="test.css">

	<script src="../../node_modules/prismjs/prism.js"></script>
	

	<script src="../../lib/ws_protocol.min.js"> </script>
	<script src="test_utils.js"></script>
	<script src="simple_test.js"></script>
	
    </head>
    
    <body>
	
	<div class="grid">
	    <header>
		<nav class="navbar navbar-toggleable-md navbar-light bg-faded">
		    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		    </button>
		    <a class="navbar-brand" href="#">Websocket protocol layer</a>
		    <div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
			    <li class="nav-item active">
				<a class="nav-link active" href="#tuto_1" role="tab" data-toggle="tab">Example 1 <span class="sr-only">(current)</span></a>
			    </li>

			    <li class="nav-item">
				<a class="nav-link" href="#profile" role="tab" data-toggle="tab">profile</a>
			    </li>
			    <li class="nav-item">
				<a class="nav-link" href="#buzz" role="tab" data-toggle="tab">buzz</a>
			    </li>
			    <li class="nav-item">
				<a class="nav-link" href="#references" role="tab" data-toggle="tab">references</a>
			    </li>
  
			    <li class="nav-item">
				<a class="nav-link" href="#">Example 2</a>
			    </li>
			    <li class="nav-item">
				<a class="nav-link disabled" href="#">Disabled</a>
			    </li>
			</ul>
		    </div>
		</nav>
		
	    </header>

	    <!-- <object type="text/html" data="tuto_1.html"></object> -->

	    <div class="tutorial">
    
    <div class= "container-fluid">
	
	
	<h1>Sending simple messages to the server and getting feedback</h1>
	
	<p class="lead">
	    
	    In this first demo, we are sending a simple message to the server with the <strong>send</strong> command. The message consists in a command, <i>simple_test</i> whose payload is an object containing the text input content . We don't excpect a reply from the server with the <strong>send</strong>
	    
	</p>
	
	<h2>Web browser side</h2>
	
	<pre data-src="simple_test.js"></pre>
	
	
	<h2>Node side </h2>
	
	<p>
	    The server will answer to the <i>simple_test</i> command with a specific function handler. Message handlers functions are stored in groups (that can be viewed as plugins). When no group name is given to the function <strong>install_mod</strong>, function handlers are attached to the default "namespace" <i>0</i> group.
	</p>
	<p>
	    Each function handler's <i>this</i> value is set to the <i>websocket</i> class. Its first argument is the message object containing the data sent from the client.
	</p>
	
	<pre data-src="../simple_test.js"></pre>
	
	The object <i>simple_test_handlers</i> declares 2 message handlers : <i>simple_test</i> and <i>simple_test_reply</i> and provide 
    </div>
</div>

<div class="live_test">
    <div class="container-fluid">
	<h2>Demo</h2>
	<div class="test1">
	    
	    
	    <h5>Send command</h5>
	    <div class="col-xs-12">
		<div class="input-group input-group-">
		    <input class="form-control input form-control-sm" type="text" id="input" placeholder="Enter some text..."></input>
		    <span class="input-group-btn">
			<button class="btn btn-primary btn-sm" id="button_send"> Send</button>
		    </span>
		    <span class="input-group-btn">
			<button class="btn btn-primary btn-sm" id="button_query"> Query</button>
		    </span>
		</div>
	    </div>
	</div>
	
	<div class="console_container">
	    <h5>Console</h5>
	    <div class="console" id="console"></div>
	</div>
    </div>
</div>

	    
	    <div class="tab-content">
		
		<div role="tabpanel" class="tab-pane fade in active" id="tuto_1">
		    
		</div>
		<div role="tabpanel" class="tab-pane fade" id="profile">
		</div>
		<div role="tabpanel" class="tab-pane fade" id="buzz">bbb</div>
		<div role="tabpanel" class="tab-pane fade" id="references">ccc</div>
	    </div>

	    
	    <footer>Pierre Sprimont <a href="mailto:pierre@bucuresti.world">pierre@bucuresti.world</a>, 2017</footer>
	</div>
	
	<script src="jquery.min.js"></script>
	<script src="../../node_modules/tether/dist/js/tether.min.js"></script>
	<script src="../../../bootstrap/dist/js/bootstrap.min.js"></script>
	
    </body>
</html>

